<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>HTML Runner</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
html, body {
  margin: 0;
  height: 100%;
  overflow: hidden; /* ★全体スクロール完全禁止 */
}

body {
  display: flex;
  flex-direction: column;
  background: #111;
  color: #fff;
}

/* 上部バー */
#controls {
  flex-shrink: 0;
  padding: 6px;
  background: #222;
}

/* メイン */
#main {
  flex: 1;
  display: flex;
  overflow: hidden;
}

/* エディターのみスクロール可 */
textarea {
  width: 40%;
  resize: none;
  font-family: monospace;
  overflow: auto;
}

/* プレビュー */
iframe {
  width: 60%;
  border: none;
  background: #000;
}

/* ===== 疑似フルスクリーン ===== */
body.play #controls,
body.play textarea {
  display: none; /* ★コード部分を完全に隠す */
}

body.play #main {
  flex: 1;
}

body.play iframe {
  width: 100%;
  height: 100%;
}
</style>
</head>
<body>

<div id="controls">
  <button onclick="run()">実行</button>
  <button onclick="togglePlay()">プレイ</button>
</div>

<div id="main">
  <textarea id="editor"></textarea>
  <iframe id="preview" sandbox="allow-scripts allow-pointer-lock"></iframe>
</div>

<script>
let currentURL;
let playing = false;

function run() {
  const code = editor.value;
  const blob = new Blob([code], { type: "text/html" });
  if (currentURL) URL.revokeObjectURL(currentURL);
  currentURL = URL.createObjectURL(blob);
  preview.src = currentURL;
}

function togglePlay() {
  playing = !playing;
  document.body.classList.toggle("play", playing);
}
</script>

</body>
</html>
